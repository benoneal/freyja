Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("theming"),r=require("abab");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=n(e),a="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0),o=!a&&"undefined"!=typeof window&&"undefined"!=typeof document&&9===document.nodeType,s=function(e,t){return t.forEach((function(r,n){return t[n]=e(r,n)})),t},l={},u=o?document.createElement("p").style:{},c={opera:"O",chrome:"webkit",safari:"Webkit",firefox:"Moz",fban:"Webkit",fbav:"Webkit",msie:"ms",node:""},f=function(){if("undefined"==typeof navigator)return"";var e=navigator.userAgent||navigator.vendor||o&&window.opera,t=/(opera|msie|firefox|chrome|safari|fban|fbav|node)/.exec(e.toLowerCase());return t||console.warn("Freyja: No browser match found. Vendor prefixes will be absent."),t?c[t[0]]:""}(),d="-"+f.toLowerCase()+"-",m=["accelerator","animation","appearance","aspectRatio","backdropFilter","backfaceVisibility","backgroundComposite","binding","blockProgression","borderAfter","borderBefore","borderEnd","borderFit","borderStart","borderVerticalSpacing","box","column","filter","flex","flow","fontFeatureSettings","fontSizeDelta","fontSmoothing","grid","hyphenate","hyphens","imageRegion","initialLetter","line","locale","logical","marginAfter","marginBefore","marginBottomCollapse","marginCollapse","marginEnd","marginFit","marginStart","marginTopCollapse","marquee","mask","math","objectFit","perspective","scrollSnap","textAlignLast","textDecoration","textFill","textJustify","textOrientation","textSecurity","textSizeAdjust","textStroke","textUnderline","textZoom","textOverflow","transform","userSelect","wordBreak","wrap"],p={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msPreferredSize"},g=["grid","inline-grid","linear-gradient","radial-gradient","repeating-linear-gradient","repeating-radial-gradient"],y={"break-all":["break-word"],flex:["-webkit-box","-ms-flexbox","-webkit-flex"],"flex-end":["end"],"flex-start":["start"],"space-around":["distribute"],"space-between":["justify"]},b={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},x=Object.entries,v=function(e,t){var r=(e.getElementById(t)||function(e,t){var r=e.createElement("style");return r.id=t,e.head.appendChild(r),r}(e,t)).sheet;return function(e){return r.insertRule(e,r.cssRules.length)}},h=function(){},w={keyframes:o?v(document,"__freyja_keyframes"):h,classes:o?v(document,"__freyja_classes"):h,mediaqueries:o?v(document,"__freyja_mediaqueries"):h},j={keyframes:[],classes:[],mediaqueries:[]},k={},_=0,S=function(e,t){!o&&j[t].push(e),w[t](e),_++},C=function(e){return function(e,t){void 0===t&&(t=f);var r=e+t;if(l[r])return l[r];var n=t+e.slice(0,1).toUpperCase()+e.slice(1);return"justifyContent"===e&&"ms"===t&&(e="msFlexPack"),!t||e in u?l[r]=e:p[e]in u?l[r]=p[e]:m.find((function(t){return e.startsWith(t)}))&&n in u?l[r]=n:l[r]=e}(e).replace(/[A-Z]|^ms|^webkit/g,"-$&").toLowerCase()},z=function(e,t){return"number"!=typeof t?function(e,t){var r=e+t;if(l[r])return l[r];if("string"!=typeof t)return l[r]=t;if("content"===e&&!t.length)return l[r]='""';var n=function(t){return u[e]="",u[e]=t,!!u[e].length};try{if(n(t))return l[r]=t}catch(e){return l[r]=t}var i=d+t;if(g.find((function(e){return t.startsWith(e)}))&&n(i))return l[r]=i;var a=y[t]&&y[t].find(n);return l[r]=a||t}(e,t):b[e]?t:t+"px"},F=function(e,t,r){return"@"+(r?d:"")+"keyframes "+e+" {"+t+"}"},O=function(e,t,r){return void 0===t&&(t=""),s((function(e){var n=e[0],i=e[1];if(null==i)return"";if("object"==typeof i){var a=function(e){return void 0===e&&(e=""),"@"===e[0]&&"m"===e[1]}(n)?n:null;return O(i,a?t:t+n,a||r)}var o=n+i+t+r;if(k[o])return k[o];var s=r?"mediaqueries":"classes",l="f"+_.toString(36);return S(function(e,t){return t?t+"{"+e+"}":e}(function(e,t,r){return"."+e+"{"+C(t)+":"+z(t,r)+"}"}(l+t.replace(/&/g,""),n,i),r),s),k[o]=l}),x(e)).filter(Boolean).join(" ")},T=function(e){return[j.keyframes.join(""),j.classes.join(""),j.mediaqueries.join(""),r.btoa(JSON.stringify(k)),_]},I=function(e){for(var t in k={},j)j[t]=[];_=0},L=Math.pow,q=Object.entries,E=[.25,.5,.6,.7,.85,1,1.25,1.5,1.75,2,2.5,3,3.5,4,4.5,5,6,7,8,9,10,12,14,16,18,20],P=function(e,t,r){return L(r,t)*e},A=function(e,t,r,n,i){return void 0===i&&(i="px"),"calc("+e+i+" + ("+(t-e)+") * ((100vw - "+r+i+") / ("+(n-r)+")))"},W=q({up:"0deg",right:"90deg",down:"180deg",left:"270deg"}).reduce((function(e,t){var r=t[0],n=t[1];return e[r]=function(e,t){return{backgroundImage:"linear-gradient("+n+", "+e+", "+t+")"}},e}),{center:function(e,t){return{backgroundImage:"radial-gradient(circle, "+e+", "+t+")"}}}),B=function(e){return function(t,r){return t[r]=e,t}},H=["::-webkit-input-placeholder",":-moz-placeholder","::-moz-placeholder",":-ms-input-placeholder"],M=["::-webkit-slider-thumb","::-moz-range-thumb","::-ms-thumb"],N=["::-webkit-slider-runnable-track","::-moz-range-track","::-ms-track"],R={bounce:"cubic-bezier(.44,-0.1,.72,1.34)",out:"cubic-bezier(.37,.54,.66,.99)",in:"cubic-bezier(.36,.01,.8,.65)"},D=q(R).reduce((function(e,t){var r,n=t[0],i=t[1];return Object.assign({},e,((r={})[n]={fast:{transition:"all 200ms "+i},medium:{transition:"all 320ms "+i},slow:{transition:"all 480ms "+i}},r))}),{fast:{transition:"all 200ms ease-in-out"},medium:{transition:"all 320ms ease-in-out"},slow:{transition:"all 480ms ease-in-out"}}),V=Object.freeze({__proto__:null,scale:function(e,t){return void 0===e&&(e=0),void 0===t&&(t="rem"),""+E[e+5]+t},media:{ebook:"@media screen and (min-width: 420px)",tablet:"@media screen and (min-width: 580px)",laptop:"@media screen and (min-width: 740px)",desktop:"@media screen and (min-width: 980px)"},fluidType:function(e){var t;void 0===e&&(e={});var r=e.minFontSize;void 0===r&&(r=16);var n=e.maxFontSize;void 0===n&&(n=20);var i=e.minLeading;void 0===i&&(i=1.3);var a=e.maxLeading;void 0===a&&(a=1.5);var o=e.minViewWidth;void 0===o&&(o=320);var s=e.maxViewWidth;void 0===s&&(s=1080);var l=e.minTypeScale;void 0===l&&(l=1.1);var u=e.maxTypeScale;void 0===u&&(u=1.35);var c=e.typeLevel;return void 0===c&&(c=0),(t={fontSize:P(r,c,l),lineHeight:i})["@media screen and (min-width: "+o+"px)"]={fontSize:A(P(r,c,l),P(n,c,u),o,s),lineHeight:A(i,a,o/r,s/n,"em")},t["@media screen and (min-width: "+s+"px)"]={fontSize:P(n,c,u),lineHeight:a},t},gradient:W,placeholder:function(e){return H.reduce(B(e),{})},rangeThumb:function(e){return M.reduce(B(e),{})},rangeTrack:function(e){return N.reduce(B(e),{})},layout:{center:{display:"flex",alignItems:"center",justifyContent:"center",alignContent:"center"},center_h:{display:"flex",alignItems:"center",alignContent:"center"},center_v:{display:"flex",justifyContent:"center"},row:{display:"flex",alignItems:"stretch",flexDirection:"row",justifyContent:"space-between"},column:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between"},list:{display:"flex",alignItems:"stretch",justifyContent:"left"}},ease:R,transition:D}),G=Object.entries,J=Object.assign({},V,{animation:function(e){var t=function(e,t){void 0===t&&(t="an");for(var r=5381,n=e.length;n;)r=33*r^e.charCodeAt(--n);return t+(r>>>0).toString(36)}(JSON.stringify(e));if(k[t])return k[t];var r=s((function(e){var t=e[0],r=e[1];return t+" {"+x(r).reduce((function(e,t){var r=t[0],n=t[1];return""+e+C(r)+":"+z(r,n)+";"}),"")+"}"}),x(e)).join(" ");return S(F(t,r,!0),"keyframes"),S(F(t,r),"keyframes"),k[t]=t}}),U=t.createTheming(i.default.createContext({})),Z=U.withTheme,$=U.ThemeProvider,K=U.useTheme;!function(e){if(o){var t=document.getElementById("__freyja_classes");t.dataset.freyjaCache&&(k=JSON.parse(r.atob(t.dataset.freyjaCache))||{},_=parseInt(t.dataset.freyjaRules))}}();exports.StyleComponents=function(){var e=T(),t=e[0],r=e[1],n=e[2],a=e[3],o=e[4];return I(),i.default.createElement(i.default.Fragment,null,i.default.createElement("style",{id:"__freyja_keyframes",dangerouslySetInnerHTML:{__html:t}}),i.default.createElement("style",{id:"__freyja_classes","data-freyja-rules":o,"data-freyja-cache":a,dangerouslySetInnerHTML:{__html:r}}),i.default.createElement("style",{id:"__freyja_mediaqueries",dangerouslySetInnerHTML:{__html:n}}))},exports.ThemeProvider=$,exports.default=function(e,t){return void 0===t&&(t={}),r=e(K(),t,J),G(r).reduce((function(e,t){var r=t[0],n=t[1];return e[r]=O(n),e}),{});var r},exports.styleTags=function(){var e=T(),t=e[0],r=e[1],n=e[2],i=e[3],a=e[4];return I(),'<style id="__freyja_keyframes">'+t+'</style><style id="__freyja_classes" data-freyja-rules="'+a+'" data-freyja-cache="'+i+'">'+r+'</style><style id="__freyja_mediaqueries">'+n+"</style>"},exports.useTheme=K,exports.withTheme=Z;
